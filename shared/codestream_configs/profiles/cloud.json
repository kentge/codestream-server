//   Cloud configuration
//
//   ****  DO NOT EDIT THIS FILE - YOUR CHANGES WILL BE OVERWRITTEN  ****
//
//   - Profile:        cloud.json
//   - Storage:        mongo
//   - Broadcast:      pubnub
//   - Queuing:        AWS SQS
//   - Outbound SMTP:  sendgrid

{
	"apiServer": {
		"ci": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"confirmationNotRequired": false
		},
		"defaultEnv": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"helpIsAvailable": true,
			"phoneHomeUrl": null,
			"port": 8443,
			"publicApiUrl": "https://${CSSVC_ENV}-api.codestream.us",
			"requireTLS12": true
		},
		"local": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"helpIsAvailable": true,
			"showConfig": true
		},
		"local1": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"helpIsAvailable": true,
			"port": null,
			"publicApiUrl": null,
			"showConfig": true
		},
		"local2": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"helpIsAvailable": true,
			"port": null,
			"publicApiUrl": null,
			"showConfig": true
		},
		"nr": {
			"authOrigin": null,
			"confirmationNotRequired": false,
			"helpIsAvailable": true,
			"phoneHomeUrl": null,
			"port": 8443,
			"publicApiUrl": "https://nr-preview.codestream.us",
			"requireTLS12": true
		},
		"pd": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"confirmationNotRequired": false,
			"helpIsAvailable": true,
			"phoneHomeUrl": null,
			"port": 8443,
			"publicApiUrl": "https://${CSSVC_ENV}-api.codestream.us",
			"requireTLS12": true
		},
		"pi": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"confirmationNotRequired": false,
			"phoneHomeUrl": null
		},
		"prod": {
			"confirmationNotRequired": false,
			"logger": {
				"consoleOk": false
			},
			"marketingSiteUrl": "https://www.codestream.com",
			"phoneHomeUrl": null,
			"port": 8443,
			"publicApiUrl": "https://api.codestream.com"
		},
		"qa": {
			"authOrigin": "https://auth.codestream.us/no-auth",
			"confirmationNotRequired": false,
			"logger": {
				"consoleOk": false
			},
			"marketingSiteUrl": "https://www.codestream.com",
			"phoneHomeUrl": null,
			"port": 8443,
			"publicApiUrl": "https://qa-api.codestream.us"
		},
		"stg": {
			"authOrigin": null,
			"confirmationNotRequired": false,
			"helpIsAvailable": true,
			"logger": {
				"consoleOk": false
			},
			"marketingSiteUrl": "https://www.codestream.com",
			"phoneHomeUrl": null,
			"port": 8443,
			"publicApiUrl": "https://staging-api.codestream.us",
			"requireTLS12": true
		}
	},
	"broadcastEngine": {
		"pubnub": {
			"ci": {
				"_loadSecretsFile": "pubnub/ci.cfg"
			},
			"defaultEnv": {
				"_loadSecretsFile": "pubnub/dev.cfg"
			},
			"local": {
				"_loadSecretsFile": "pubnub/local.cfg"
			},
			"local1": {
				"_loadSecretsFile": "pubnub/local.cfg"
			},
			"local2": {
				"_loadSecretsFile": "pubnub/local.cfg"
			},
			"pi": {
				"_loadSecretsFile": "pubnub/ci.cfg"
			},
			"prod": {
				"_loadSecretsFile": "pubnub/prod.cfg"
			},
			"qa": {
				"_loadSecretsFile": "pubnub/qa.cfg"
			},
			"stg": {
				"_loadSecretsFile": "pubnub/stg.cfg"
			}
		}
	},
	"email": {
		"defaultEnv": {
			"emailTo": null,
			"suppressEmails": false
		},
		"local": {},
		"local1": {},
		"local2": {},
		"prod": {
			"emailTo": null,
			"replyToDomain": "prod.codestream.com",
			"senderEmail": "alerts@codestream.com",
			"supportEmail": "support@codestream.com",
			"suppressEmails": false
		}
	},
	"emailDeliveryService": {
		"sendgrid": {
			"defaultEnv": {
				"_loadSecretsFile": "sendgrid/dev.cfg"
			},
			"prod": {
				"_loadSecretsFile": "sendgrid/prod.cfg"
			},
			"qa": {
				"_loadSecretsFile": "sendgrid/qa.cfg"
			},
			"stg": {
				"_loadSecretsFile": "sendgrid/stg.cfg"
			}
		}
	},
	"environmentGroup": {
		"_loadBlockPropertiesFrom": {
			"defaultEnv": null,
			"local1": {
				"_file": "{DT_RESOURCES}/cs-environment-groups.json",
				"_rootProp": "codestreamEnvironmentGroups.localDevelopment"
			},
			"local2": {
				"_file": "{DT_RESOURCES}/cs-environment-groups.json",
				"_rootProp": "codestreamEnvironmentGroups.localDevelopment"
			}
		}
	},
	"inboundEmailServer": {
		"ci": {},
		"defaultEnv": {
			"inboundEmailDirectory": "${HOME}/codestream-mail/inbound/web/new"
		},
		"local": {
			"showConfig": true
		},
		"local1": {
			"showConfig": true
		},
		"local2": {
			"showConfig": true
		},
		"pi": {},
		"prod": {
			"inboundEmailDirectory": "${HOME}/codestream-mail/inbound/web/new"
		},
		"qa": {
			"inboundEmailDirectory": "${HOME}/codestream-mail/inbound/web/new"
		},
		"stg": {
			"inboundEmailDirectory": "${HOME}/codestream-mail/inbound/web/new",
			"logger": {
				"consoleOk": false
			}
		}
	},
	"integrations": {
		"asana": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "asana/dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "asana/prod.cfg"
				},
				"stg": {}
			}
		},
		"bitbucket": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "bitbucket/dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "bitbucket/prod.cfg"
				},
				"stg": {}
			}
		},
		"devops": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "microsoft/devops-dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "microsoft/devops-prod.cfg"
				},
				"qa": {
					"_loadSecretsFile": "microsoft/devops-qa.cfg"
				},
				"stg": {}
			}
		},
		"github": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "github/dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "github/prod.cfg"
				},
				"stg": {
					"_loadSecretsFile": "github/stg.cfg"
				}
			}
		},
		"gitlab": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "gitlab/dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "gitlab/prod.cfg"
				},
				"stg": {
					"_loadSecretsFile": "gitlab/stg.cfg"
				}
			}
		},
		"jira": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "atlassian/dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "atlassian/prod.cfg"
				},
				"stg": {
					"_loadSecretsFile": "atlassian/stg.cfg"
				}
			}
		},
		"linear": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "linear/dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "linear/prod.cfg"
				},
				"qa": {
					"_loadSecretsFile": "linear/qa.cfg"
				},
				"stg": {}
			}
		},
		"msteams": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "microsoft/teams-dev.cfg"
				},
				"local": {
					"_loadSecretsFile": "microsoft/teams-local.cfg"
				},
				"local1": {
					"_loadSecretsFile": "microsoft/teams-local.cfg"
				},
				"local2": {
					"_loadSecretsFile": "microsoft/teams-local.cfg"
				},
				"prod": {
					"_loadSecretsFile": "microsoft/teams-prod.cfg"
				},
				"qa": {
					"_loadSecretsFile": "microsoft/teams-qa.cfg"
				},
				"stg": {}
			}
		},
		"newrelic": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "newrelic/nr1-staging.dev.cfg"
				},
				"prod": {
					"_loadSecretsFile": "newrelic/nr1-staging.prod.cfg"
				}
			}
		},
		"okta": {
			"localInstallation": {
				"defaultEnv": {}
			}
		},
		"slack": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "slack/dev-combined.cfg"
				},
				"local": {
					"_loadSecretsFile": "slack/local-combined.cfg"
				},
				"local1": {
					"_loadSecretsFile": "slack/local-combined.cfg"
				},
				"local2": {
					"_loadSecretsFile": "slack/local-combined.cfg"
				},
				"nr": {
					"_loadSecretsFile": "slack/nr-combined.cfg",
					"interactiveComponentsEnabled": true
				},
				"pd": {
					"_loadSecretsFile": "slack/dev-combined.cfg",
					"interactiveComponentsEnabled": true
				},
				"prod": {
					"_loadSecretsFile": "slack/prod-combined.cfg",
					"interactiveComponentsEnabled": true
				},
				"qa": {
					"_loadSecretsFile": "slack/qa-combined.cfg",
					"interactiveComponentsEnabled": true
				},
				"stg": {
					"_loadSecretsFile": "slack/stg-combined.cfg",
					"interactiveComponentsEnabled": true
				}
			}
		},
		"trello": {
			"cloud": {
				"defaultEnv": {
					"_loadSecretsFile": "trello/codestreamdevops.cfg"
				},
				"prod": {
					"_loadSecretsFile": "trello/codestreamops.cfg"
				}
			}
		}
	},
	"outboundEmailServer": {
		"ci": {},
		"defaultEnv": {
			"showConfig": true,
			"storage": {
				"mongo": {
					"url": "mongodb://${CSSVC_ENV}-api.codestream.us/codestream"
				}
			}
		},
		"local": {
			"showConfig": true
		},
		"local1": {
			"showConfig": true
		},
		"local2": {
			"showConfig": true
		},
		"nr": {
			"showConfig": true,
			"storage": {
				"mongo": {
					"_loadSecretsFile": "mongo/nr.cfg"
				}
			}
		},
		"pd": {
			"showConfig": true,
			"storage": {
				"mongo": {
					"_loadSecretsFile": "mongo/pd.cfg"
				}
			}
		},
		"pi": {},
		"prod": {},
		"qa": {},
		"stg": {}
	},
	"payments": {
		"stripe": {
			"defaultEnv": {
				"_loadSecretsFile": "stripe/dev.cfg"
			},
			"prod": {
				"_loadSecretsFile": "stripe/prod.cfg"
			},
			"stg": {}
		}
	},
	"queuingEngine": {
		"awsSQS": {
			"ci": {
				"outboundEmailQueueName": "ci_outboundEmail"
			},
			"defaultEnv": {
				"outboundEmailQueueName": "dev_${CSSVC_ENV}_outboundEmail"
			},
			"local": {},
			"local1": {
				"outboundEmailQueueName": "local1_${DT_USER}_outboundEmail"
			},
			"local2": {
				"outboundEmailQueueName": "local2_${DT_USER}_outboundEmail"
			},
			"pd": {
				"outboundEmailQueueName": "pd_outboundEmail"
			},
			"pi": {
				"outboundEmailQueueName": "ci_outboundEmail"
			},
			"prod": {
				"outboundEmailQueueName": "prod_outboundEmail"
			},
			"qa": {
				"outboundEmailQueueName": "qa_outboundEmail"
			},
			"stg": {
				"outboundEmailQueueName": "stg_outboundEmail"
			}
		}
	},
	"sharedGeneral": {
		"ci": {
			"runTimeEnvironment": "ci"
		},
		"defaultEnv": {},
		"local": {
			"runTimeEnvironment": "local"
		},
		"local1": {
			"runTimeEnvironment": "local1"
		},
		"local2": {
			"runTimeEnvironment": "local2"
		},
		"pi": {
			"runTimeEnvironment": "pi"
		},
		"prod": {
			"isProductionCloud": true,
			"newRelicLandingServiceUrl": "https://landing.service.newrelic.com",
			"runTimeEnvironment": "prod"
		},
		"qa": {
			"runTimeEnvironment": "qa"
		},
		"stg": {
			"runTimeEnvironment": "stg"
		}
	},
	"sharedSecrets": {
		"ci": {
			"_loadSecretsFile": "codestream/ci-secrets.cfg"
		},
		"defaultEnv": {
			"_loadSecretsFile": "codestream/dev-secrets.cfg"
		},
		"pi": {
			"_loadSecretsFile": "codestream/ci-secrets.cfg"
		},
		"prod": {
			"_loadSecretsFile": "codestream/prod-secrets.cfg"
		},
		"qa": {
			"_loadSecretsFile": "codestream/qa-secrets.cfg"
		},
		"stg": {
			"_loadSecretsFile": "codestream/stg-secrets.cfg"
		}
	},
	"ssl": {
		"defaultEnv": {
			"cafile": "/etc/pki/wildcard.codestream.us/wildcard.codestream.us-ca",
			"certfile": "/etc/pki/wildcard.codestream.us/wildcard.codestream.us-crt",
			"keyfile": "/etc/pki/wildcard.codestream.us/wildcard.codestream.us-key"
		},
		"local": {},
		"local1": {},
		"local2": {},
		"prod": {
			"cafile": "/etc/pki/wildcard.codestream.com/wildcard.codestream.com-ca",
			"certfile": "/etc/pki/wildcard.codestream.com/wildcard.codestream.com-crt",
			"keyfile": "/etc/pki/wildcard.codestream.com/wildcard.codestream.com-key"
		}
	},
	"storage": {
		"mongo": {
			"defaultEnv": {},
			"local1": {
				"url": "mongodb://localhost/codestream-local1"
			},
			"local2": {
				"url": "mongodb://localhost/codestream-local2"
			},
			"nr": {
				"_loadSecretsFile": "mongo/nr.cfg"
			},
			"pd": {
				"_loadSecretsFile": "mongo/pd.cfg",
				"tlsCAFile": "/etc/pki/wildcard.codestream.us/wildcard.codestream.us-crt+ca"
			},
			"prod": {
				"_loadSecretsFile": "mongo/prod.cfg",
				"tlsCAFile": "/etc/pki/mongo-prod4211/mongo-prod4211-crt"
			},
			"qa": {
				"_loadSecretsFile": "mongo/qa.cfg",
				"tlsCAFile": "/etc/pki/mongo-qaxv4211/mongo-qaxv4211-crt"
			},
			"stg": {
				"_loadSecretsFile": "mongo/stg.cfg",
				"tlsCAFile": "/etc/pki/mongo-staging/mongo-staging-crt"
			}
		}
	},
	"telemetry": {
		"intercom": {
			"defaultEnv": {
				"_loadSecretsFile": "intercom/dev.cfg"
			}
		},
		"segment": {
			"defaultEnv": {
				"_loadSecretsFile": "segment/dev-api.cfg"
			},
			"prod": {
				"_loadSecretsFile": "segment/prod-api.cfg"
			}
		}
	},
	"uploadEngine": {
		"s3": {
			"defaultEnv": {
				"bucket": "codestream-dev",
				"keyPrefix": "usercontent/${CSSVC_ENV}",
				"publicUrl": "http://codestream-dev.s3.us-east-1.amazonaws.com",
				"stripKeyPrefixFromUrl": false
			},
			"local": {},
			"local1": {},
			"local2": {},
			"prod": {
				"bucket": "codestream-prod",
				"keyPrefix": "usercontent",
				"publicUrl": "https://usercontent.codestream.com",
				"stripKeyPrefixFromUrl": true
			},
			"stg": {
				"bucket": "codestream-stg-usercontent",
				"keyPrefix": "usercontent",
				"publicUrl": "https://stg-usercontent.codestream.us",
				"stripKeyPrefixFromUrl": true
			}
		}
	}
}
